<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>$REGRET - Terapia Crypto que Paga</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Solana Web3.js v1.78.0 -->
    <script src="https://cdn.jsdelivr.net/npm/@solana/web3.js@1.78.0/lib/index.iife.min.js"></script>
    <style>
        :root {
            --cry-blue: #4A90E2;
            --tear-yellow: #FFD166;
            --therapy-green: #00CC88;
            --regret-purple: #9D4EDD;
            --dark-bg: #0F0F23;
            --card-bg: #1A1A2E;
            --text-light: #F0F0F0;
            --text-muted: #B8B8D1;
            --shadow-glow: 0 0 20px rgba(255, 209, 102, 0.3);
            --error-red: #FF6B6B;
            --success-green: #00CC88;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Fredoka', sans-serif;
            background-color: var(--dark-bg);
            color: var(--text-light);
            background-image: 
                radial-gradient(circle at 10% 20%, rgba(74, 144, 226, 0.1) 0%, transparent 20%),
                radial-gradient(circle at 90% 80%, rgba(255, 209, 102, 0.1) 0%, transparent 20%);
            min-height: 100vh;
            padding-bottom: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        header {
            padding: 1.5rem 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 2px dashed var(--cry-blue);
            flex-wrap: wrap;
            gap: 20px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
            text-decoration: none;
        }

        .logo-emoji {
            font-size: 3rem;
            animation: tearDrop 3s infinite;
        }

        @keyframes tearDrop {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(5px); }
        }

        .logo-text {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(45deg, var(--tear-yellow), var(--cry-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .social-links {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
        }

        .social-btn {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 10px 20px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            background: var(--card-bg);
            color: var(--text-light);
            border: 2px solid var(--cry-blue);
        }

        .social-btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-glow);
            background: var(--cry-blue);
        }

        /* Wallet Status */
        .wallet-status {
            display: flex;
            align-items: center;
            gap: 15px;
            padding: 10px 20px;
            background: var(--card-bg);
            border-radius: 50px;
            border: 2px solid var(--therapy-green);
            margin-left: auto;
        }

        .wallet-address {
            font-family: monospace;
            font-size: 0.9rem;
            color: var(--therapy-green);
            max-width: 150px;
            overflow: hidden;
            text-overflow: ellipsis;
        }

        .disconnect-btn {
            background: transparent;
            border: 1px solid var(--error-red);
            color: var(--error-red);
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.3s;
        }

        .disconnect-btn:hover {
            background: rgba(255, 107, 107, 0.2);
        }

        /* Hero Section */
        .hero {
            text-align: center;
            padding: 3rem 0 2rem;
        }

        .hero-title {
            font-size: 2.8rem;
            margin-bottom: 1rem;
            line-height: 1.2;
        }

        .hero-title .highlight {
            background: linear-gradient(45deg, var(--tear-yellow), var(--therapy-green));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: glow 2s infinite alternate;
        }

        @keyframes glow {
            from { text-shadow: 0 0 10px var(--tear-yellow); }
            to { text-shadow: 0 0 20px var(--therapy-green); }
        }

        .hero-subtitle {
            font-size: 1.2rem;
            color: var(--text-muted);
            max-width: 700px;
            margin: 0 auto 2rem;
            line-height: 1.6;
        }

        /* Airdrop Section */
        .airdrop-section {
            background: linear-gradient(135deg, var(--card-bg), #222244);
            border-radius: 25px;
            padding: 2.5rem;
            margin: 2rem auto;
            max-width: 800px;
            border: 3px solid var(--tear-yellow);
            box-shadow: var(--shadow-glow);
            position: relative;
            overflow: hidden;
        }

        .airdrop-section::before {
            content: "游꾸";
            position: absolute;
            top: -20px;
            right: -20px;
            font-size: 8rem;
            opacity: 0.1;
            transform: rotate(15deg);
        }

        .airdrop-title {
            font-size: 2.2rem;
            margin-bottom: 1rem;
            color: var(--tear-yellow);
        }

        .airdrop-subtitle {
            font-size: 1.1rem;
            margin-bottom: 1.5rem;
            color: var(--text-muted);
        }

        .airdrop-note {
            background: rgba(255, 209, 102, 0.1);
            border-radius: 10px;
            padding: 1rem;
            margin: 1.5rem 0;
            border-left: 4px solid var(--tear-yellow);
        }

        .airdrop-note h4 {
            color: var(--tear-yellow);
            margin-bottom: 0.5rem;
        }

        /* Wallet Selector */
        .wallet-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 1.5rem 0;
        }

        .wallet-option {
            background: rgba(255, 255, 255, 0.05);
            border: 2px solid var(--cry-blue);
            border-radius: 15px;
            padding: 1.5rem 1rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .wallet-option:hover {
            transform: translateY(-5px);
            background: rgba(74, 144, 226, 0.2);
            box-shadow: var(--shadow-glow);
        }

        .wallet-option.selected {
            background: rgba(0, 204, 136, 0.2);
            border-color: var(--therapy-green);
        }

        .wallet-icon {
            font-size: 2rem;
        }

        .wallet-name {
            font-weight: 600;
            font-size: 1rem;
        }

        /* Main Connect Button */
        .connect-main {
            background: linear-gradient(45deg, var(--therapy-green), var(--cry-blue));
            color: white;
            border: none;
            padding: 18px 40px;
            border-radius: 50px;
            font-size: 1.3rem;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin: 0 auto;
            width: 100%;
            max-width: 400px;
            box-shadow: 0 10px 30px rgba(0, 204, 136, 0.3);
        }

        .connect-main:hover:not(:disabled) {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 40px rgba(0, 204, 136, 0.5);
        }

        .connect-main:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 2.5rem 0;
        }

        .stat-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 1.5rem;
            text-align: center;
            border: 2px solid var(--cry-blue);
            transition: transform 0.3s;
        }

        .stat-card:hover {
            transform: translateY(-5px);
        }

        .stat-number {
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--tear-yellow);
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: var(--text-muted);
            font-size: 0.9rem;
        }

        /* Gamification */
        .gamification {
            margin: 3rem 0;
        }

        .section-title {
            text-align: center;
            font-size: 2.2rem;
            margin-bottom: 2rem;
            color: var(--tear-yellow);
        }

        .levels-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }

        .level-card {
            background: var(--card-bg);
            border-radius: 20px;
            padding: 2rem;
            border: 3px solid;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }

        .level-card:hover {
            transform: translateY(-10px);
            box-shadow: var(--shadow-glow);
        }

        .level-card.novato {
            border-color: var(--cry-blue);
        }

        .level-card.pro {
            border-color: var(--therapy-green);
        }

        .level-card.therapist {
            border-color: var(--regret-purple);
        }

        .level-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: var(--tear-yellow);
            color: black;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 700;
            font-size: 0.9rem;
        }

        .level-emoji {
            font-size: 2.5rem;
            margin-bottom: 1rem;
        }

        .level-reward {
            background: rgba(255, 209, 102, 0.1);
            border-radius: 10px;
            padding: 1rem;
            margin: 1rem 0;
            border-left: 4px solid var(--tear-yellow);
        }

        /* Daily Wheel */
        .daily-wheel {
            text-align: center;
            margin: 3rem 0;
            padding: 2.5rem;
            background: rgba(26, 26, 46, 0.7);
            border-radius: 25px;
            border: 3px solid var(--regret-purple);
        }

        .wheel-container {
            width: 280px;
            height: 280px;
            margin: 2rem auto;
            position: relative;
            background: conic-gradient(
                var(--cry-blue) 0deg 60deg,
                var(--therapy-green) 60deg 120deg,
                var(--tear-yellow) 120deg 180deg,
                var(--regret-purple) 180deg 240deg,
                var(--error-red) 240deg 300deg,
                #4ECDC4 300deg 360deg
            );
            border-radius: 50%;
            border: 8px solid var(--tear-yellow);
            box-shadow: var(--shadow-glow);
            transition: transform 3s cubic-bezier(0.2, 0.8, 0.3, 1);
        }

        .wheel-pointer {
            position: absolute;
            top: -25px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 3rem;
            color: var(--tear-yellow);
            filter: drop-shadow(0 0 10px rgba(255, 209, 102, 0.8));
            z-index: 2;
        }

        .spin-button {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: white;
            border: none;
            width: 70px;
            height: 70px;
            border-radius: 50%;
            font-weight: 700;
            font-size: 1.1rem;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            z-index: 3;
            transition: all 0.3s;
        }

        .spin-button:hover:not(:disabled) {
            transform: translate(-50%, -50%) scale(1.1);
            background: var(--therapy-green);
            color: white;
        }

        .spin-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 3rem 0;
            border-top: 2px dashed var(--cry-blue);
            color: var(--text-muted);
            margin-top: 2rem;
        }

        .disclaimer {
            background: rgba(255, 107, 107, 0.1);
            border: 2px solid var(--error-red);
            border-radius: 15px;
            padding: 1.5rem;
            margin: 2rem auto;
            max-width: 800px;
            text-align: left;
        }

        .disclaimer h4 {
            color: var(--error-red);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 2rem;
            }
            
            .airdrop-section {
                padding: 1.5rem;
            }
            
            .airdrop-title {
                font-size: 1.8rem;
            }
            
            .connect-main {
                padding: 15px 25px;
                font-size: 1.1rem;
            }
            
            .levels-grid {
                grid-template-columns: 1fr;
            }
            
            .wheel-container {
                width: 250px;
                height: 250px;
            }
            
            header {
                flex-direction: column;
                align-items: stretch;
            }
            
            .wallet-status {
                margin-left: 0;
                justify-content: center;
            }
        }

        /* Confetti */
        .confetti {
            position: fixed;
            width: 15px;
            height: 15px;
            background-color: var(--tear-yellow);
            top: -10px;
            opacity: 0;
            z-index: 9999;
            pointer-events: none;
        }

        @keyframes confettiRain {
            0% {
                opacity: 1;
                top: -10px;
                transform: rotate(0deg) translateX(0);
            }
            100% {
                opacity: 0;
                top: 100vh;
                transform: rotate(720deg) translateX(100px);
            }
        }

        /* Notification */
        .notification {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: linear-gradient(45deg, var(--therapy-green), var(--cry-blue));
            color: white;
            padding: 15px 25px;
            border-radius: 15px;
            font-weight: 600;
            z-index: 10000;
            box-shadow: 0 10px 25px rgba(0,0,0,0.3);
            transform: translateX(150%);
            transition: transform 0.5s cubic-bezier(0.2, 0.8, 0.3, 1);
            display: flex;
            align-items: center;
            gap: 10px;
            max-width: 350px;
        }

        .notification.show {
            transform: translateX(0);
        }

        /* Loading Spinner */
        .spinner {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top-color: var(--therapy-green);
            animation: spin 1s ease-in-out infinite;
        }

        @keyframes spin {
            to { transform: rotate(360deg); }
        }

        /* Airdrop Limit Warning */
        .limit-warning {
            background: rgba(255, 107, 107, 0.1);
            border: 2px solid var(--error-red);
            border-radius: 10px;
            padding: 1rem;
            margin: 1rem 0;
            text-align: center;
        }

        .limit-warning i {
            color: var(--error-red);
            margin-right: 8px;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 5px;
            margin: 1rem 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--therapy-green), var(--tear-yellow));
            width: 0%;
            transition: width 1s ease;
        }
    </style>
</head>
<body>
    <!-- Confetti Container -->
    <div id="confettiContainer"></div>

    <!-- Notification Container -->
    <div id="notification" class="notification">
        <i class="fas fa-check-circle"></i>
        <span id="notificationText"></span>
    </div>

    <div class="container">
        <!-- Header -->
        <header>
            <a href="#" class="logo">
                <div class="logo-emoji">游땴</div>
                <div class="logo-text">$REGRET</div>
            </a>
            
            <div class="social-links">
                <a href="https://x.com/RegretCoinSol2" target="_blank" class="social-btn">
                    <i class="fab fa-twitter"></i>
                    X
                </a>
                <a href="https://t.me/REGRETCOINSOL2" target="_blank" class="social-btn">
                    <i class="fab fa-telegram"></i>
                    Telegram
                </a>
            </div>

            <!-- Wallet Status (hidden by default) -->
            <div id="walletStatus" class="wallet-status" style="display: none;">
                <i class="fas fa-wallet" style="color: var(--therapy-green);"></i>
                <span class="wallet-address" id="walletAddress"></span>
                <button class="disconnect-btn" id="disconnectBtn">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
        </header>

        <!-- Hero Section -->
        <section class="hero">
            <h1 class="hero-title">
                Convierte tus errores de crypto<br>
                en <span class="highlight">ganancias reales</span>.
            </h1>
            
            <p class="hero-subtitle">
                $REGRET es el primer token de terapia grupal en Solana. Conecta tu wallet, reclama tu airdrop inicial,
                y comienza a ganar tokens por compartir tu experiencia. Sin complicaciones.
            </p>
        </section>

        <!-- Airdrop Section -->
        <section class="airdrop-section">
            <h2 class="airdrop-title">游꾸 AIRDROP DE BIENVENIDA</h2>
            <p class="airdrop-subtitle">
                <strong>1,000 $REGRET GRATIS</strong> por conectar tu wallet.<br>
                <strong>+500 $REGRET</strong> por cada amigo que invites.<br>
                <strong>+Tokens diarios</strong> con la ruleta de la fortuna.
            </p>

            <!-- Airdrop Limit -->
            <div id="airdropLimit" class="limit-warning" style="display: none;">
                <i class="fas fa-exclamation-triangle"></i>
                <span id="limitText"></span>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <small id="remainingSlots"></small>
            </div>

            <!-- Wallet Selection -->
            <div id="walletSelector" class="wallet-options">
                <div class="wallet-option" data-wallet="phantom">
                    <div class="wallet-icon"><i class="fas fa-ghost"></i></div>
                    <div class="wallet-name">Phantom</div>
                </div>
                <div class="wallet-option" data-wallet="solflare">
                    <div class="wallet-icon"><i class="fas fa-sun"></i></div>
                    <div class="wallet-name">Solflare</div>
                </div>
                <div class="wallet-option" data-wallet="backpack">
                    <div class="wallet-icon"><i class="fas fa-backpack"></i></div>
                    <div class="wallet-name">Backpack</div>
                </div>
                <div class="wallet-option" data-wallet="sollet">
                    <div class="wallet-icon"><i class="fas fa-wallet"></i></div>
                    <div class="wallet-name">Sollet</div>
                </div>
            </div>

            <div class="airdrop-note">
                <h4><i class="fas fa-info-circle"></i> IMPORTANTE: Token en preparaci칩n</h4>
                <p>El token $REGRET se lanzar치 en Solana pr칩ximamente. Todas las wallets conectadas recibir치n autom치ticamente sus tokens cuando se lance. Guardaremos tu direcci칩n de forma segura para la distribuci칩n.</p>
            </div>

            <!-- Main Connect Button -->
            <button class="connect-main" id="connectBtn">
                <i class="fas fa-plug"></i>
                CONECTAR WALLET Y RECLAMAR 1,000 $REGRET
            </button>

            <!-- Stats -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="totalParticipants">2,847</div>
                    <div class="stat-label">Wallets Registradas</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="tokensReserved">4.2M</div>
                    <div class="stat-label">Tokens Reservados</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="daysToLaunch">14</div>
                    <div class="stat-label">D칤as para Lanzamiento</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="maxParticipants">10,000</div>
                    <div class="stat-label">L칤mite Total</div>
                </div>
            </div>
        </section>

        <!-- Gamification -->
        <section class="gamification">
            <h2 class="section-title">游끥 Sube de Nivel, Gana M치s</h2>
            <p style="text-align: center; color: var(--text-muted); margin-bottom: 1rem; font-size: 1.1rem;">
                Tu nivel determina cu치ntos tokens recibir치s al lanzamiento
            </p>
            
            <div class="levels-grid">
                <div class="level-card novato">
                    <div class="level-badge">NIVEL 1</div>
                    <div class="level-emoji">游땬</div>
                    <h3>Regret Novato</h3>
                    <p style="color: var(--text-muted); margin: 1rem 0;">Solo conectaste wallet. Todos empezamos aqu칤.</p>
                    <div class="level-reward">
                        <strong>Recompensa al lanzamiento:</strong><br>
                        <span style="color: var(--tear-yellow); font-size: 1.2rem;">1,000 $REGRET</span>
                    </div>
                </div>
                
                <div class="level-card pro">
                    <div class="level-badge">NIVEL 2</div>
                    <div class="level-emoji">游땴</div>
                    <h3>Regret Pro</h3>
                    <p style="color: var(--text-muted); margin: 1rem 0;">Gira la ruleta diaria + comparte tu c칩digo de referidos.</p>
                    <div class="level-reward">
                        <strong>Recompensa al lanzamiento:</strong><br>
                        <span style="color: var(--therapy-green); font-size: 1.2rem;">5,000 - 15,000 $REGRET</span>
                    </div>
                </div>
                
                <div class="level-card therapist">
                    <div class="level-badge">NIVEL 3</div>
                    <div class="level-emoji">游뱒</div>
                    <h3>Regret Therapist</h3>
                    <p style="color: var(--text-muted); margin: 1rem 0;">Trae 5+ amigos y ayuda a crecer la comunidad.</p>
                    <div class="level-reward">
                        <strong>Recompensa al lanzamiento:</strong><br>
                        <span style="color: var(--regret-purple); font-size: 1.2rem;">15,000 - 50,000 $REGRET</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Daily Wheel -->
        <section class="daily-wheel">
            <h2 class="section-title">游꿔 Ruleta de Tokens Diaria</h2>
            <p style="color: var(--text-muted); margin-bottom: 2rem; max-width: 600px; margin-left: auto; margin-right: auto;">
                Gira una vez cada 24 horas. Todos ganan tokens que ser치n distribuidos al lanzamiento.
            </p>
            
            <div class="wheel-container" id="wheel">
                <div class="wheel-pointer">拘勇</div>
                <button class="spin-button" id="spinBtn">GIRAR</button>
            </div>
            
            <div id="wheelResult" style="margin-top: 2rem; min-height: 60px;">
                <p style="color: var(--text-muted);">
                    <i class="fas fa-info-circle"></i> Conecta tu wallet para girar la ruleta
                </p>
            </div>
        </section>

        <!-- Referral Section -->
        <div id="referralSection" style="display: none; text-align: center; margin: 3rem 0; padding: 2rem; background: rgba(255, 209, 102, 0.1); border-radius: 20px; border: 2px dashed var(--tear-yellow);">
            <h3 style="color: var(--tear-yellow); margin-bottom: 1rem;">
                <i class="fas fa-user-friends"></i> Invita Amigos, Gana M치s
            </h3>
            <p style="color: var(--text-muted); margin-bottom: 1.5rem;">
                Comparte tu c칩digo y gana <strong>500 $REGRET</strong> por cada amigo que se registre
            </p>
            <div style="
                background: rgba(0,0,0,0.3);
                padding: 1rem;
                border-radius: 10px;
                font-family: monospace;
                font-size: 1.2rem;
                letter-spacing: 2px;
                margin-bottom: 1.5rem;
                border: 2px solid var(--therapy-green);
                display: inline-block;
            ">
                <span id="referralCode">REGRET-XXXX-XXXX</span>
                <button id="copyReferralBtn" style="
                    background: transparent;
                    border: none;
                    color: var(--therapy-green);
                    cursor: pointer;
                    margin-left: 10px;
                ">
                    <i class="fas fa-copy"></i>
                </button>
            </div>
            <p style="color: var(--text-muted); font-size: 0.9rem;">
                <i class="fas fa-users"></i> <span id="referralCount">0</span> amigos invitados
            </p>
        </div>

        <!-- Footer -->
        <footer>
            <div class="disclaimer">
                <h4><i class="fas fa-exclamation-triangle"></i> INFORMACI칍N IMPORTANTE</h4>
                <p><strong>$REGRET es un token meme en fase de preparaci칩n.</strong> El airdrop registra tu wallet para recibir tokens cuando se lance el token en Solana. No es una inversi칩n. Los tokens no tienen valor garantizado. Solo participa si comprendes los riesgos de los memecoins.</p>
                <p style="margin-top: 1rem; color: var(--text-muted); font-size: 0.9rem;">
                    <i class="fas fa-database"></i> Tus datos de wallet se almacenan de forma segura 칰nicamente para la distribuci칩n futura de tokens.
                </p>
            </div>
            
            <p style="margin-top: 2rem;">
                游땴 $REGRET - Terapia Crypto que Paga<br>
                <span style="color: var(--text-muted); font-size: 0.9rem;">
                    춸 2024 | Pr칩ximo lanzamiento en Solana
                </span>
            </p>
        </footer>
    </div>

    <script>
        // ============================================
        // CONFIGURACI칍N Y ESTADO
        // ============================================
        const CONFIG = {
            AIRDROP_BASE: 1000,
            REFERRAL_BONUS: 500,
            WHEEL_PRIZES: [100, 250, 500, 1000, 1500, 2000],
            // Simulaci칩n de backend local (en producci칩n ser칤a una API real)
            BACKEND_STORAGE_KEY: 'regret_airdrop_data',
            MAX_PARTICIPANTS: 10000, // L칤mite de participantes
            TOTAL_AIRDROP_TOKENS: 10000000 // 10 millones de tokens para airdrop
        };

        // Estado de la aplicaci칩n
        let appState = {
            selectedWallet: null,
            walletConnected: false,
            walletAddress: null,
            userData: null,
            participants: 2847, // Simulaci칩n inicial
            tokensReserved: 4200000,
            airdropClosed: false
        };

        // ============================================
        // FUNCIONES DE CONEXI칍N DE WALLET (CORREGIDAS)
        // ============================================

        // Detecta qu칠 wallets est치n disponibles
        function detectAvailableWallets() {
            const wallets = {
                phantom: window.phantom?.solana || window.solana,
                solflare: window.solflare,
                backpack: window.backpack,
                sollet: window.sollet
            };
            return wallets;
        }

        // Conecta a la wallet seleccionada
        async function connectToWallet(walletType) {
            const wallets = detectAvailableWallets();
            const wallet = wallets[walletType];
            
            if (!wallet) {
                showNotification(`Instala la extensi칩n de ${walletType} primero`, 'error');
                return null;
            }

            try {
                let publicKey;
                
                if (walletType === 'phantom' || walletType === 'solflare') {
                    // M칠todo moderno para Phantom y Solflare
                    const response = await wallet.connect();
                    publicKey = response.publicKey.toString();
                } else if (wallet.isConnected) {
                    // M칠todo para otras wallets
                    publicKey = wallet.publicKey.toString();
                } else {
                    // M칠todo legacy
                    await wallet.connect();
                    publicKey = wallet.publicKey.toString();
                }
                
                return publicKey;
            } catch (error) {
                console.error('Error conectando wallet:', error);
                showNotification('Error al conectar la wallet', 'error');
                return null;
            }
        }

        // ============================================
        // FUNCIONES DE AIRDROP Y CONTABILIZACI칍N
        // ============================================

        // Verifica y actualiza el l칤mite de airdrop
        function updateAirdropLimits() {
            const maxParticipants = CONFIG.MAX_PARTICIPANTS;
            const currentParticipants = appState.participants;
            const percentage = (currentParticipants / maxParticipants) * 100;
            
            // Actualizar UI
            document.getElementById('progressFill').style.width = `${percentage}%`;
            document.getElementById('remainingSlots').textContent = 
                `${(maxParticipants - currentParticipants).toLocaleString()} cupos disponibles`;
            
            // Mostrar advertencia si est치 por acabarse
            if (percentage >= 90) {
                document.getElementById('airdropLimit').style.display = 'block';
                const limitText = percentage >= 95 ? 
                    '丘멆잺 춰칔LTIMOS CUPOS! El airdrop est치 por cerrarse' :
                    '丘멆잺 Airdrop limitado - Quedan pocos cupos';
                document.getElementById('limitText').textContent = limitText;
                
                if (percentage >= 100) {
                    appState.airdropClosed = true;
                    document.getElementById('connectBtn').disabled = true;
                    document.getElementById('connectBtn').innerHTML = 
                        '<i class="fas fa-times-circle"></i> AIRDROP CERRADO';
                    showNotification('El airdrop ha alcanzado su l칤mite m치ximo', 'error');
                }
            }
        }

        // Registra un nuevo participante
        function registerParticipant(walletAddress) {
            // Obtener datos almacenados
            const storedData = localStorage.getItem(CONFIG.BACKEND_STORAGE_KEY);
            let airdropData = storedData ? JSON.parse(storedData) : {
                participants: [],
                totalParticipants: appState.participants,
                tokensReserved: appState.tokensReserved
            };

            // Verificar si ya est치 registrado
            const isAlreadyRegistered = airdropData.participants.some(
                p => p.wallet === walletAddress
            );

            if (isAlreadyRegistered) {
                showNotification('Esta wallet ya est치 registrada', 'info');
                return false;
            }

            // Verificar l칤mite
            if (airdropData.participants.length >= CONFIG.MAX_PARTICIPANTS) {
                showNotification('El airdrop ha alcanzado su l칤mite m치ximo', 'error');
                appState.airdropClosed = true;
                return false;
            }

            // Generar c칩digo de referido 칰nico
            const referralCode = `REGRET-${walletAddress.slice(0, 8).toUpperCase()}`;

            // Registrar nuevo participante
            const newParticipant = {
                wallet: walletAddress,
                referralCode: referralCode,
                tokens: CONFIG.AIRDROP_BASE,
                referralCount: 0,
                level: 1,
                registeredAt: new Date().toISOString(),
                lastSpin: null
            };

            airdropData.participants.push(newParticipant);
            airdropData.totalParticipants = airdropData.participants.length;
            airdropData.tokensReserved = airdropData.participants.reduce(
                (sum, p) => sum + p.tokens, 0
            );

            // Guardar en localStorage
            localStorage.setItem(CONFIG.BACKEND_STORAGE_KEY, JSON.stringify(airdropData));

            // Actualizar estado
            appState.participants = airdropData.totalParticipants;
            appState.tokensReserved = airdropData.tokensReserved;
            appState.userData = newParticipant;

            // Actualizar UI
            updateStatsDisplay();
            updateAirdropLimits();
            
            return true;
        }

        // ============================================
        // FUNCIONES DE INTERFAZ
        // ============================================

        function showNotification(message, type = 'info') {
            const notification = document.getElementById('notification');
            const notificationText = document.getElementById('notificationText');
            
            notificationText.textContent = message;
            notification.className = 'notification';
            notification.classList.add('show');
            
            // Color seg칰n tipo
            if (type === 'error') {
                notification.style.background = 'linear-gradient(45deg, var(--error-red), #FF8E8E)';
            } else if (type === 'success') {
                notification.style.background = 'linear-gradient(45deg, var(--therapy-green), var(--cry-blue))';
                createConfetti();
            }
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 5000);
        }

        function updateStatsDisplay() {
            document.getElementById('totalParticipants').textContent = 
                appState.participants.toLocaleString();
            
            const tokensInMillions = (appState.tokensReserved / 1000000).toFixed(1);
            document.getElementById('tokensReserved').textContent = 
                `${tokensInMillions}M`;
            
            // Actualizar contador regresivo (simulaci칩n)
            const launchDate = new Date();
            launchDate.setDate(launchDate.getDate() + 14);
            const today = new Date();
            const diffTime = launchDate - today;
            const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
            document.getElementById('daysToLaunch').textContent = diffDays;
        }

        function updateUserInterface() {
            if (appState.walletConnected && appState.userData) {
                // Mostrar estado de wallet
                document.getElementById('walletStatus').style.display = 'flex';
                document.getElementById('walletAddress').textContent = 
                    `${appState.walletAddress.slice(0, 4)}...${appState.walletAddress.slice(-4)}`;
                
                // Ocultar selector
                document.getElementById('walletSelector').style.display = 'none';
                document.getElementById('connectBtn').style.display = 'none';
                
                // Mostrar secci칩n de referidos
                document.getElementById('referralSection').style.display = 'block';
                document.getElementById('referralCode').textContent = appState.userData.referralCode;
                document.getElementById('referralCount').textContent = appState.userData.referralCount || 0;
                
                // Activar ruleta
                document.getElementById('spinBtn').disabled = false;
                document.getElementById('wheelResult').innerHTML = 
                    '<p><i class="fas fa-check-circle" style="color: var(--therapy-green);"></i> 춰Listo para girar!</p>';
            }
        }

        function createConfetti() {
            const container = document.getElementById('confettiContainer');
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.backgroundColor = [
                    'var(--tear-yellow)',
                    'var(--therapy-green)',
                    'var(--cry-blue)',
                    'var(--regret-purple)'
                ][Math.floor(Math.random() * 4)];
                confetti.style.animation = `confettiRain ${1 + Math.random() * 2}s linear forwards`;
                container.appendChild(confetti);
                
                setTimeout(() => {
                    confetti.remove();
                }, 3000);
            }
        }

        // ============================================
        // FUNCIONES DE LA RULETA
        // ============================================

        let isSpinning = false;

        async function spinWheel() {
            if (isSpinning || !appState.walletConnected) return;
            
            isSpinning = true;
            document.getElementById('spinBtn').disabled = true;
            
            // Seleccionar premio aleatorio
            const prizeIndex = Math.floor(Math.random() * CONFIG.WHEEL_PRIZES.length);
            const prize = CONFIG.WHEEL_PRIZES[prizeIndex];
            
            // Calcular 치ngulo para la animaci칩n
            const anglePerSection = 360 / CONFIG.WHEEL_PRIZES.length;
            const targetAngle = 360 * 5 + (prizeIndex * anglePerSection); // 5 vueltas + secci칩n ganadora
            
            // Animar
            const wheel = document.getElementById('wheel');
            wheel.style.transform = `rotate(${targetAngle}deg)`;
            
            // Actualizar datos del usuario
            if (appState.userData) {
                appState.userData.tokens += prize;
                
                // Guardar en almacenamiento
                const storedData = JSON.parse(localStorage.getItem(CONFIG.BACKEND_STORAGE_KEY));
                const userIndex = storedData.participants.findIndex(
                    p => p.wallet === appState.walletAddress
                );
                
                if (userIndex !== -1) {
                    storedData.participants[userIndex].tokens += prize;
                    storedData.participants[userIndex].lastSpin = new Date().toISOString();
                    localStorage.setItem(CONFIG.BACKEND_STORAGE_KEY, JSON.stringify(storedData));
                }
            }
            
            // Mostrar resultado
            setTimeout(() => {
                document.getElementById('wheelResult').innerHTML = `
                    <h3 style="color: var(--tear-yellow);">춰Ganaste ${prize} $REGRET!</h3>
                    <p style="color: var(--text-muted);">Total acumulado: ${appState.userData?.tokens || 1000} $REGRET</p>
                `;
                isSpinning = false;
                document.getElementById('spinBtn').disabled = true;
                
                // Deshabilitar por 24 horas (simulaci칩n)
                setTimeout(() => {
                    if (appState.walletConnected) {
                        document.getElementById('spinBtn').disabled = false;
                    }
                }, 10000); // En producci칩n ser칤a 24 horas
                
                showNotification(`춰Felicidades! Ganaste ${prize} $REGRET en la ruleta`, 'success');
            }, 3000);
        }

        // ============================================
        // EVENT LISTENERS
        // ============================================

        // Selecci칩n de wallet
        document.querySelectorAll('.wallet-option').forEach(option => {
            option.addEventListener('click', () => {
                document.querySelectorAll('.wallet-option').forEach(el => {
                    el.classList.remove('selected');
                });
                option.classList.add('selected');
                appState.selectedWallet = option.dataset.wallet;
                document.getElementById('connectBtn').disabled = false;
            });
        });

        // Bot칩n de conexi칩n principal
        document.getElementById('connectBtn').addEventListener('click', async () => {
            if (!appState.selectedWallet) {
                showNotification('Selecciona una wallet primero', 'error');
                return;
            }

            if (appState.airdropClosed) {
                showNotification('El airdrop ha cerrado, ya no se aceptan m치s registros', 'error');
                return;
            }

            // Mostrar indicador de carga
            const connectBtn = document.getElementById('connectBtn');
            connectBtn.innerHTML = '<div class="spinner"></div> Conectando...';
            connectBtn.disabled = true;

            // Conectar wallet
            const walletAddress = await connectToWallet(appState.selectedWallet);
            
            if (walletAddress) {
                appState.walletAddress = walletAddress;
                appState.walletConnected = true;
                
                // Registrar en el airdrop
                const registered = registerParticipant(walletAddress);
                
                if (registered) {
                    updateUserInterface();
                    showNotification('춰Wallet conectada! Has reclamado 1,000 $REGRET', 'success');
                }
            }

            // Restaurar bot칩n
            connectBtn.innerHTML = '<i class="fas fa-plug"></i> CONECTAR WALLET Y RECLAMAR 1,000 $REGRET';
            connectBtn.disabled = false;
        });

        // Bot칩n de desconexi칩n
        document.getElementById('disconnectBtn').addEventListener('click', () => {
            appState.walletConnected = false;
            appState.walletAddress = null;
            
            document.getElementById('walletStatus').style.display = 'none';
            document.getElementById('walletSelector').style.display = 'grid';
            document.getElementById('connectBtn').style.display = 'block';
            document.getElementById('referralSection').style.display = 'none';
            
            document.getElementById('spinBtn').disabled = true;
            document.getElementById('wheelResult').innerHTML = 
                '<p style="color: var(--text-muted);"><i class="fas fa-info-circle"></i> Conecta tu wallet para girar la ruleta</p>';
            
            // Resetear ruleta
            const wheel = document.getElementById('wheel');
            wheel.style.transform = 'rotate(0deg)';
            
            showNotification('Wallet desconectada', 'info');
        });

        // Bot칩n de girar ruleta
        document.getElementById('spinBtn').addEventListener('click', spinWheel);

        // Bot칩n de copiar c칩digo de referido
        document.getElementById('copyReferralBtn').addEventListener('click', () => {
            const code = document.getElementById('referralCode').textContent;
            navigator.clipboard.writeText(code).then(() => {
                showNotification('C칩digo copiado al portapapeles', 'success');
            });
        });

        // ============================================
        // INICIALIZACI칍N
        // ============================================

        document.addEventListener('DOMContentLoaded', () => {
            // Cargar datos iniciales
            const storedData = localStorage.getItem(CONFIG.BACKEND_STORAGE_KEY);
            if (storedData) {
                const data = JSON.parse(storedData);
                appState.participants = data.totalParticipants;
                appState.tokensReserved = data.tokensReserved;
            }
            
            // Actualizar displays
            updateStatsDisplay();
            updateAirdropLimits();
            
            // Verificar si hay wallet conectada previamente (simulaci칩n)
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.has('ref')) {
                const refCode = urlParams.get('ref');
                console.log('Referido detectado:', refCode);
                // Aqu칤 podr칤as implementar l칩gica para registrar referidos
            }
            
            // Inicializar botones
            document.getElementById('connectBtn').disabled = true;
            document.getElementById('spinBtn').disabled = true;
        });
    </script>
</body>
</html>
