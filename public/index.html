<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>$REGRET - Terapia Crypto que Paga</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <!-- Script de detecci√≥n de wallets -->
    <script>
    // Detectar wallets disponibles cuando la p√°gina cargue
    document.addEventListener('DOMContentLoaded', function() {
        console.log('üîç Iniciando detecci√≥n de wallets...');
        
        // Esperar un momento para que las extensiones se carguen
        setTimeout(() => {
            const updateIndicator = (id, isAvailable) => {
                const element = document.getElementById(id);
                if (element) {
                    if (isAvailable) {
                        element.classList.add('available');
                        element.classList.remove('unavailable');
                    } else {
                        element.classList.add('unavailable');
                        element.classList.remove('available');
                    }
                }
            };
            
            // Detectar Phantom
            updateIndicator('phantomStatus', window.solana && window.solana.isPhantom);
            
            // Detectar Solflare
            updateIndicator('solflareStatus', window.solflare && 
                (window.solflare.isSolflare || 
                 typeof window.solflare.connect === 'function' || 
                 typeof window.solflare.request === 'function'));
            
            // Detectar Backpack
            updateIndicator('backpackStatus', window.backpack && 
                (window.backpack.isBackpack || 
                 typeof window.backpack.connect === 'function' || 
                 window.backpack.solana));
            
            // Uniswap siempre disponible
            updateIndicator('uniswapStatus', true);
            
            console.log('‚úÖ Detecci√≥n de wallets completada');
        }, 500);
    });
    </script>
</head>
<body>
    <!-- Confetti Container -->
    <div id="confettiContainer"></div>

    <!-- Notification -->
    <div id="notification" class="notification">
        <span id="notificationText"></span>
    </div>

    <div class="container">
        <!-- Header Reorganizado -->
        <header>
            <div class="header-top">
                <a href="#" class="logo">
                    <div class="logo-emoji">üò≠</div>
                    <div class="logo-text">$REGRET</div>
                </a>
                
                <div class="social-links">
                    <a href="https://x.com/RegretCoinSol2" target="_blank" class="social-btn">
                        <i class="fab fa-twitter"></i> X
                    </a>
                    <a href="https://t.me/REGRETCOINSOL2" target="_blank" class="social-btn">
                        <i class="fab fa-telegram"></i> Telegram
                    </a>
                </div>
            </div>

            <div class="header-wallet-section">
                <!-- Wallet Status (hidden by default) -->
                <div id="walletStatus" class="wallet-status" style="display: none;">
                    <div class="wallet-connected">
                        <i class="fas fa-wallet"></i>
                        <span>Conectado: <span id="walletAddress">0x...</span></span>
                        <button id="disconnectBtn" class="disconnect-btn">
                            <i class="fas fa-sign-out-alt"></i> Desconectar
                        </button>
                    </div>
                </div>

                <!-- Wallet Selection and Connect Button -->
                <div class="wallet-connect-container" id="walletConnectContainer">
                    <!-- Wallet Selection -->
                    <div id="walletSelector" class="wallet-options">
                        <div class="wallet-option" data-wallet="phantom">
                            <div class="wallet-icon"><i class="fas fa-ghost"></i></div>
                            <div class="wallet-name">Phantom</div>
                            <div class="wallet-status-indicator" id="phantomStatus"></div>
                        </div>
                        <div class="wallet-option" data-wallet="solflare">
                            <div class="wallet-icon"><i class="fas fa-sun"></i></div>
                            <div class="wallet-name">Solflare</div>
                            <div class="wallet-status-indicator" id="solflareStatus"></div>
                        </div>
                        <div class="wallet-option" data-wallet="backpack">
                            <div class="wallet-icon"><i class="fas fa-backpack"></i></div>
                            <div class="wallet-name">Backpack</div>
                            <div class="wallet-status-indicator" id="backpackStatus"></div>
                        </div>
                        <div class="wallet-option" data-wallet="uniswap">
                            <div class="wallet-icon"><i class="fas fa-wallet"></i></div>
                            <div class="wallet-name">Uniswap*</div>
                            <div class="wallet-status-indicator" id="uniswapStatus"></div>
                        </div>
                    </div>
                    
                    <!-- Main Connect Button - AHORA EN EL HEADER -->
                    <div class="connect-btn-container">
                        <button class="connect-main" id="connectBtn">
                            <i class="fas fa-plug"></i>
                            CONECTAR WALLET Y RECLAMAR 1,000 $REGRET
                        </button>
                        <small style="color: var(--text-muted); display: block; text-align: center; margin-top: 0.5rem;">
                            * Conexi√≥n manual (direcci√≥n Solana)
                        </small>
                    </div>
                </div>
            </div>
        </header>

        <!-- Hero Section -->
        <section class="hero">
            <h1 class="hero-title">
                Convierte tus errores de crypto<br>
                en <span class="highlight">ganancias reales</span>.
            </h1>
            
            <p class="hero-subtitle">
                $REGRET es el primer token de terapia grupal en Solana. Conecta tu wallet, reclama tu airdrop inicial,
                y comienza a ganar tokens por compartir tu experiencia. Lanzamiento: 12 de Enero.
            </p>
        </section>

        <!-- Airdrop Section -->
        <section class="airdrop-section">
            <h2 class="airdrop-title">üéÅ AIRDROP DE BIENVENIDA</h2>
            <p class="airdrop-subtitle">
                <strong>1,000 $REGRET GRATIS</strong> por conectar tu wallet.<br>
                <strong>+500 $REGRET</strong> por cada amigo que invites.<br>
                <strong>+Tokens diarios</strong> con la ruleta de la fortuna.
            </p>

            <!-- Airdrop Limit -->
            <div id="airdropLimit" class="limit-warning" style="display: none;">
                <i class="fas fa-exclamation-triangle"></i>
                <span id="limitText"></span>
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <small id="remainingSlots"></small>
            </div>

            <div class="airdrop-note">
                <h4><i class="fas fa-info-circle"></i> IMPORTANTE</h4>
                <p>El token $REGRET se lanzar√° el 12 de Enero. Todas las wallets registradas recibir√°n autom√°ticamente sus tokens. Guardaremos tu direcci√≥n de forma segura para la distribuci√≥n.</p>
            </div>

            <!-- Stats Mejoradas -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-wallet"></i>
                    </div>
                    <div class="stat-number" id="totalParticipants">0</div>
                    <div class="stat-label">Wallets Registradas</div>
                    <div class="stat-trend" id="participantsTrend">
                        <i class="fas fa-arrow-up"></i> <span>+25 hoy</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-coins"></i>
                    </div>
                    <div class="stat-number" id="tokensReserved">0</div>
                    <div class="stat-label">Tokens Reservados</div>
                    <div class="stat-progress">
                        <div class="progress-bar-small">
                            <div class="progress-fill-small" id="reservedProgress"></div>
                        </div>
                        <span id="reservedPercentage">0%</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-calendar-alt"></i>
                    </div>
                    <div class="stat-number" id="daysToLaunch">14</div>
                    <div class="stat-label">D√≠as para Lanzamiento</div>
                    <div class="stat-countdown">
                        <i class="fas fa-clock"></i> <span>12 de Enero</span>
                    </div>
                </div>
                <div class="stat-card">
                    <div class="stat-icon">
                        <i class="fas fa-gift"></i>
                    </div>
                    <div class="stat-number" id="tokensRemaining">0</div>
                    <div class="stat-label">Tokens Disponibles</div>
                    <div class="stat-info" id="tokensInfo">de 10M total</div>
                </div>
            </div>
        </section>

        <!-- Gamification -->
        <section class="gamification">
            <h2 class="section-title">üèÜ Sube de Nivel, Gana M√°s</h2>
            <p class="section-subtitle">
                Tu nivel determina cu√°ntos tokens recibir√°s al lanzamiento
            </p>
            
            <div class="levels-grid">
                <div class="level-card novato">
                    <div class="level-badge">NIVEL 1</div>
                    <div class="level-emoji">üò•</div>
                    <h3>Regret Novato</h3>
                    <p>Solo conectaste wallet. Todos empezamos aqu√≠.</p>
                    <div class="level-reward">
                        <strong>Recompensa:</strong><br>
                        <span>1,000 $REGRET</span>
                    </div>
                </div>
                
                <div class="level-card pro">
                    <div class="level-badge">NIVEL 2</div>
                    <div class="level-emoji">üò≠</div>
                    <h3>Regret Pro</h3>
                    <p>Gira la ruleta diaria + comparte tu c√≥digo.</p>
                    <div class="level-reward">
                        <strong>Recompensa:</strong><br>
                        <span>5,000 - 15,000 $REGRET</span>
                    </div>
                </div>
                
                <div class="level-card therapist">
                    <div class="level-badge">NIVEL 3</div>
                    <div class="level-emoji">ü§ß</div>
                    <h3>Regret Therapist</h3>
                    <p>Trae 5+ amigos y ayuda a crecer la comunidad.</p>
                    <div class="level-reward">
                        <strong>Recompensa:</strong><br>
                        <span>15,000 - 50,000 $REGRET</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Daily Wheel -->
        <section class="daily-wheel">
            <h2 class="section-title">üé° Ruleta de Tokens Diaria</h2>
            <p style="color: var(--text-muted); margin-bottom: 2rem; max-width: 600px; margin-left: auto; margin-right: auto;">
                Gira una vez cada 24 horas. Todos ganan tokens que ser√°n distribuidos al lanzamiento.
            </p>
            
            <div class="wheel-wrapper">
                <!-- Visual Wheel -->
                <div class="wheel-container">
                    <div class="wheel" id="wheel">
                        <!-- Segmentos sin n√∫meros - solo colores -->
                        <div class="wheel-segment" style="--i:0;--color:#4A90E2"></div>
                        <div class="wheel-segment" style="--i:1;--color:#00CC88"></div>
                        <div class="wheel-segment" style="--i:2;--color:#FFD166"></div>
                        <div class="wheel-segment" style="--i:3;--color:#9D4EDD"></div>
                        <div class="wheel-segment" style="--i:4;--color:#FF6B6B"></div>
                        <div class="wheel-segment" style="--i:5;--color:#4ECDC4"></div>
                    </div>
                    <div class="wheel-pointer">‚¨áÔ∏è</div>
                    <!-- Bot√≥n de girar AL LADO DE LA RULETA -->
                    <button class="spin-button" id="spinBtn">
                        <i class="fas fa-redo-alt"></i> GIRAR RULETA
                    </button>
                </div>
                
                <!-- Legend con montos correspondientes -->
                <div class="wheel-legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background: #4A90E2;"></div>
                        <span class="legend-text">100 $REGRET</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #00CC88;"></div>
                        <span class="legend-text">250 $REGRET</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #FFD166;"></div>
                        <span class="legend-text">500 $REGRET</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #9D4EDD;"></div>
                        <span class="legend-text">750 $REGRET</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #FF6B6B;"></div>
                        <span class="legend-text">1000 $REGRET</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background: #4ECDC4;"></div>
                        <span class="legend-text">1500 $REGRET</span>
                    </div>
                </div>
            </div>
            
            <div id="wheelResult" class="wheel-result">
                <p style="color: var(--text-muted);">
                    <i class="fas fa-info-circle"></i> Conecta tu wallet para girar la ruleta
                </p>
            </div>
        </section>

        <!-- Referral Section -->
        <div id="referralSection" class="referral-section" style="display: none;">
            <h3><i class="fas fa-user-friends"></i> Invita Amigos, Gana M√°s</h3>
            <p>
                Comparte tu c√≥digo y gana <strong>500 $REGRET</strong> por cada amigo que se registre
            </p>
            <div class="referral-code-container">
                <span id="referralCode">CONECTA TU WALLET</span>
                <button id="copyReferralBtn">
                    <i class="fas fa-copy"></i> Copiar
                </button>
            </div>
            <p class="referral-count">
                <i class="fas fa-users"></i> <span id="referralCount">0</span> amigos invitados
            </p>
        </div>

        <!-- Footer -->
        <footer>
            <div class="disclaimer">
                <h4><i class="fas fa-exclamation-triangle"></i> INFORMACI√ìN IMPORTANTE</h4>
                <p><strong>$REGRET es un token meme.</strong> El airdrop registra tu wallet para recibir tokens cuando se lance el token en Solana. No es una inversi√≥n. Los tokens no tienen valor garantizado. Solo participa si comprendes los riesgos.</p>
            </div>
            
            <p class="footer-text">
                üò≠ $REGRET - Terapia Crypto que Paga<br>
                <span>¬© 2024 | Lanzamiento 12 de Enero en Solana</span>
            </p>
        </footer>
    </div>

    <script src="wallet-fix.js"></script>
    <script src="https://unpkg.com/@solana/web3.js@1.87.6/lib/index.iife.min.js"></script>
    <script src="script.js"></script>
</body>
</html>